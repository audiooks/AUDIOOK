<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AUDIOOK Audio Player</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #222;
            color: white;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        .player-container {
            max-width: 500px;
            margin: auto;
            padding: 20px;
        }
        img.cover {
            width: 100%;
            border-radius: 10px;
        }
        .controls {
            margin-top: 20px;
        }
        button {
            background: #ff9800;
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #e68900;
        }
        input[type="range"] {
            width: 100%;
            margin: 10px 0;
        }
        .caption {
            font-size: 14px;
            margin-top: 10px;
            color: #ddd;
        }
    </style>
</head>
<body>
    <div class="player-container">
        <h2>AUDIOOK Audio Player</h2>
        <img class="cover" src="https://archive.org/download/gk_1828_en_202508/gk_1828_en.jpg" alt="Cover Image">
        <audio id="audio" src="https://archive.org/download/gk_1828_en/gk_1828_en.mp3"></audio>

        <div class="controls">
            <button id="prev">⏮ Prev</button>
            <button id="play">▶ Play</button>
            <button id="next">⏭ Next</button>
            <input type="range" id="seek" value="0" min="0" step="1">
            <div>
                <span id="currentTime">0:00</span> / <span id="duration">0:00</span>
            </div>
        </div>

        <div class="caption" id="caption">Transcript will appear here...</div>
    </div>

    <script>
        const audio = document.getElementById("audio");
        const playBtn = document.getElementById("play");
        const seekBar = document.getElementById("seek");
        const currentTimeEl = document.getElementById("currentTime");
        const durationEl = document.getElementById("duration");
        const captionEl = document.getElementById("caption");

        let isPlaying = false;
        let captions = [
            { time: 0, text: "This is the beginning of the history narration..." },
            { time: 5, text: "Important events start to unfold..." },
            { time: 10, text: "The narration continues with more details..." },
            { time: 15, text: "Conclusion and summary of the event." }
        ];

        playBtn.addEventListener("click", () => {
            if (isPlaying) {
                audio.pause();
                playBtn.textContent = "▶ Play";
            } else {
                audio.play();
                playBtn.textContent = "⏸ Pause";
            }
            isPlaying = !isPlaying;
        });

        audio.addEventListener("loadedmetadata", () => {
            seekBar.max = Math.floor(audio.duration);
            durationEl.textContent = formatTime(audio.duration);
        });

        audio.addEventListener("timeupdate", () => {
            seekBar.value = Math.floor(audio.currentTime);
            currentTimeEl.textContent = formatTime(audio.currentTime);
            updateCaptions(audio.currentTime);
        });

        seekBar.addEventListener("input", () => {
            audio.currentTime = seekBar.value;
        });

        function formatTime(seconds) {
            let min = Math.floor(seconds / 60);
            let sec = Math.floor(seconds % 60);
            if (sec < 10) sec = "0" + sec;
            return `${min}:${sec}`;
        }

        function updateCaptions(currentTime) {
            for (let i = captions.length - 1; i >= 0; i--) {
                if (currentTime >= captions[i].time) {
                    captionEl.textContent = captions[i].text;
                    break;
                }
            }
        }
    </script>
</body>
  </html>
